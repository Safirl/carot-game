[gd_scene load_steps=18 format=3 uid="uid://raghvv2anqjp"]

[ext_resource type="Script" path="res://Scenes/camera_3d.gd" id="1_u7fxj"]
[ext_resource type="MeshLibrary" uid="uid://hr32e216nyjj" path="res://TileMap/baseMeshLibrary.tres" id="1_uqno7"]
[ext_resource type="PackedScene" uid="uid://bhr635oauf4nk" path="res://Scenes/player.tscn" id="2_5qt3q"]
[ext_resource type="Shader" path="res://script/Vignette.gdshader" id="4_keinb"]
[ext_resource type="PackedScene" uid="uid://d4qbm4vesv64" path="res://Scenes/pickable_object.tscn" id="5_6xdsi"]
[ext_resource type="PackedScene" uid="uid://dua2oubaha4yv" path="res://AI/Carot/CarotAI.tscn" id="6_yvb4t"]
[ext_resource type="PackedScene" uid="uid://b4lponpe36cvq" path="res://Scenes/Music/MusicLayerZone.tscn" id="7_vlpm7"]
[ext_resource type="PackedScene" uid="uid://bdnfxab00ytr2" path="res://Scenes/pollution_zone.tscn" id="8_6l154"]

[sub_resource type="SphereShape3D" id="SphereShape3D_hca7e"]

[sub_resource type="SphereMesh" id="SphereMesh_l5ynm"]

[sub_resource type="NavigationMesh" id="NavigationMesh_tma6c"]
vertices = PackedVector3Array(-2.77611, 2.61707, -0.75, -1.52611, 2.61707, -1, -1.52611, 2.61707, -3.5, -6.02611, 2.61707, -3.5, -2.77611, 2.61707, 1, -6.02611, 2.61707, 5.5, -0.526109, 2.61707, 5.5, -0.526109, 2.61707, 1, -0.526109, 2.61707, -0.75, 6.97389, 2.61707, -1.75, 6.97389, 2.61707, -3.5, -0.0261087, 2.61707, 5.75, 6.97389, 2.61707, 3.75, 8.97389, 2.61707, 3.5, 8.97389, 2.61707, -1.5, -0.0261087, 2.61707, 7.5, 6.97389, 2.61707, 7.5)
polygons = [PackedInt32Array(1, 0, 2), PackedInt32Array(2, 0, 3), PackedInt32Array(0, 4, 3), PackedInt32Array(3, 4, 5), PackedInt32Array(7, 6, 4), PackedInt32Array(4, 6, 5), PackedInt32Array(1, 2, 8), PackedInt32Array(8, 2, 9), PackedInt32Array(9, 2, 10), PackedInt32Array(11, 6, 7), PackedInt32Array(13, 12, 14), PackedInt32Array(14, 12, 9), PackedInt32Array(15, 11, 16), PackedInt32Array(16, 11, 12), PackedInt32Array(7, 8, 11), PackedInt32Array(11, 8, 12), PackedInt32Array(12, 8, 9)]

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_bmhnt"]
data = PackedVector3Array(-0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, 0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, 0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, -0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, -0.5, -0.5)

[sub_resource type="BoxMesh" id="BoxMesh_3dl1i"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_oyx8v"]
shader = ExtResource("4_keinb")
shader_parameter/color = Color(0, 0, 0, 1)
shader_parameter/multiplier = 0.04
shader_parameter/softness = 1.195

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_tl04v"]

[sub_resource type="Sky" id="Sky_ch4eh"]
sky_material = SubResource("ProceduralSkyMaterial_tl04v")

[sub_resource type="Environment" id="Environment_sernj"]
background_mode = 2
sky = SubResource("Sky_ch4eh")
volumetric_fog_enabled = true
volumetric_fog_density = 0.0

[node name="Node3D" type="Node3D"]

[node name="RigidBody3D" type="RigidBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3.97715, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="RigidBody3D"]
shape = SubResource("SphereShape3D_hca7e")

[node name="MeshInstance3D" type="MeshInstance3D" parent="RigidBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.437036, 0)
mesh = SubResource("SphereMesh_l5ynm")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.703482, 0.710714, 0, -0.710714, 0.703482, -2.75291, 14.5199, 9.15188)
light_energy = 1.676

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0308323, -0.188156, 0.0134048)
navigation_mesh = SubResource("NavigationMesh_tma6c")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.66326, 2.61707, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_bmhnt")

[node name="MeshInstance3D" type="MeshInstance3D" parent="NavigationRegion3D/StaticBody3D"]
mesh = SubResource("BoxMesh_3dl1i")

[node name="GridMap2" type="GridMap" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.526109, 3.27338, 0)
mesh_library = ExtResource("1_uqno7")
data = {
"cells": PackedInt32Array(-65533, 65534, 0, -65534, 65534, 0, -65535, 65534, 0, -65536, 65534, 0, -1, 65534, 0, -2, 65534, 0, -3, 65534, 0, -3, 65535, 0, -2, 65535, 0, -1, 65535, 0, -65536, 65535, 0, -65535, 65535, 0, -65534, 65535, 0, -65534, 0, 0, -65533, 0, 0, -65532, 0, 0, -65532, 1, 0, -65533, 1, 0, -65534, 1, 0, -65535, 0, 0, -65536, 0, 0, -65536, 1, 0, -1, 1, 0, -2, 1, 0, -2, 0, 0, -3, 0, 0, -3, 1, 0, -1, 0, 0, -65535, 1, 0, -65532, 65535, 0, -65533, 65535, 0, -65533, 2, 0, -65533, 3, 0, -65534, 3, 0, -65535, 3, 0, -65536, 3, 0, -65536, 2, 0, -1, 2, 0, -2, 2, 0, -3, 2, 0, -65534, 2, 0, -65535, 2, 0)
}
metadata/_editor_floor_ = Vector3(0, -1, 0)

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(-1, 2.99004e-08, -8.21505e-08, 0, 0.939693, 0.34202, 8.74228e-08, 0.34202, -0.939693, 0, 3.79875, -4.83042)
size = 0.495
script = ExtResource("1_u7fxj")
offset = Vector3(0, 1, -3)

[node name="CanvasLayer" type="CanvasLayer" parent="."]
follow_viewport_enabled = true

[node name="ColorRect" type="ColorRect" parent="CanvasLayer"]
material = SubResource("ShaderMaterial_oyx8v")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="PickableObject" parent="." instance=ExtResource("5_6xdsi")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.65731, 2.62932, -1.69409)
collision_layer = 5
collision_mask = 5

[node name="Player" parent="." instance=ExtResource("2_5qt3q")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.66065, 2.91569, 0.329154)

[node name="CarotAI" parent="." instance=ExtResource("6_yvb4t")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.49937, 4.45412, -1.86729)

[node name="CarotAI2" parent="." instance=ExtResource("6_yvb4t")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.95534, 3.49828, -1.71948)

[node name="MusicLayerZone" parent="." instance=ExtResource("7_vlpm7")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7, 3, 0)
pathToRessource = "res://Musics/Nature.mp3"

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_sernj")

[node name="PollutionZone" parent="." instance=ExtResource("8_6l154")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.05633, 2.09145, -0.463386)
