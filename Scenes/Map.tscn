[gd_scene load_steps=14 format=3 uid="uid://raghvv2anqjp"]

[ext_resource type="MeshLibrary" uid="uid://du7f3e40giy1u" path="res://TileMap/base_mesh_library.tres" id="1_b5osk"]
[ext_resource type="Script" path="res://Scenes/camera_3d.gd" id="1_u7fxj"]
[ext_resource type="PackedScene" uid="uid://bhr635oauf4nk" path="res://Scenes/player.tscn" id="2_5qt3q"]
[ext_resource type="Shader" path="res://script/Vignette.gdshader" id="4_keinb"]
[ext_resource type="PackedScene" uid="uid://d4qbm4vesv64" path="res://Scenes/pickable_object.tscn" id="5_6xdsi"]
[ext_resource type="PackedScene" uid="uid://dua2oubaha4yv" path="res://AI/Carot/CarotAI.tscn" id="6_yvb4t"]
[ext_resource type="PackedScene" uid="uid://c7wgfrwfcaf7t" path="res://Scenes/lvl1.tscn" id="7_nix1k"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_w8j3g"]
sky_top_color = Color(0.572549, 0.729412, 0.988235, 1)
sky_horizon_color = Color(0.680673, 0.796583, 0.930607, 1)
ground_bottom_color = Color(0.570958, 0.729682, 0.988911, 1)
ground_horizon_color = Color(0.682353, 0.796078, 0.929412, 1)
sun_angle_max = 32.22
sun_curve = 0.166435

[sub_resource type="Sky" id="Sky_vppph"]
sky_material = SubResource("ProceduralSkyMaterial_w8j3g")

[sub_resource type="Environment" id="Environment_bk51v"]
background_mode = 2
sky = SubResource("Sky_vppph")
fog_enabled = true
adjustment_enabled = true
adjustment_contrast = 1.22

[sub_resource type="SphereShape3D" id="SphereShape3D_hca7e"]

[sub_resource type="NavigationMesh" id="NavigationMesh_tma6c"]
vertices = PackedVector3Array(-26.0298, 0.767164, 2.25, -25.7798, 0.767164, -0.5, -27.0298, 0.767164, -0.75, -24.0298, 0.767164, 5.5, -24.2798, 0.767164, 2.5, -31.7798, 0.767164, 5.5, -26.7798, 0.767164, -3.5, -31.7798, 0.767164, -3.5, -15.2798, 0.767164, 5.5, -15.2798, 0.767164, 5, -16.7798, 0.767164, 4.75, -20.5298, 0.767164, 5.5, -22.0298, 0.767164, -0.25, -22.0298, 0.767164, 2.25, -20.2798, 0.767164, 2.5, -23.5298, 0.767164, -3.5, -23.5298, 0.767164, -0.5, -16.2798, 0.767164, 2, -16.2798, 0.767164, -3.5, -16.7798, 0.767164, 2.25, -13.7798, 0.767164, 4.75, -11.0298, 0.767164, 5.5, -13.7798, 0.767164, 2.25, -11.0298, 0.767164, -3.5, -26.0298, 1.76716, -2.5, -26.0298, 1.76716, -1.5, -24.2798, 1.76716, -1.5, -24.2798, 1.76716, -2.5, -25.0298, 1.76716, 0.5, -25.0298, 1.76716, 1.5, -23.0298, 1.76716, 1.5, -23.0298, 1.76716, 0.5, -15.7798, 1.76716, 3, -15.7798, 1.76716, 4, -14.7798, 1.76716, 4, -14.7798, 1.76716, 3, -23.2798, 1.76716, 3.25, -23.2798, 1.76716, 4.5, -21.2798, 1.76716, 4.5, -21.2798, 1.76716, 3.25)
polygons = [PackedInt32Array(2, 1, 0), PackedInt32Array(4, 3, 0), PackedInt32Array(0, 3, 5), PackedInt32Array(7, 6, 2), PackedInt32Array(2, 0, 7), PackedInt32Array(7, 0, 5), PackedInt32Array(9, 8, 10), PackedInt32Array(10, 8, 11), PackedInt32Array(14, 13, 12), PackedInt32Array(12, 16, 15), PackedInt32Array(19, 14, 17), PackedInt32Array(17, 14, 12), PackedInt32Array(17, 12, 18), PackedInt32Array(18, 12, 15), PackedInt32Array(19, 10, 14), PackedInt32Array(14, 10, 11), PackedInt32Array(9, 20, 8), PackedInt32Array(8, 20, 21), PackedInt32Array(18, 23, 22), PackedInt32Array(22, 23, 21), PackedInt32Array(21, 20, 22), PackedInt32Array(22, 17, 18), PackedInt32Array(27, 26, 24), PackedInt32Array(24, 26, 25), PackedInt32Array(31, 30, 28), PackedInt32Array(28, 30, 29), PackedInt32Array(35, 34, 32), PackedInt32Array(32, 34, 33), PackedInt32Array(39, 38, 36), PackedInt32Array(36, 38, 37)]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_oyx8v"]
shader = ExtResource("4_keinb")
shader_parameter/color = Color(0, 0, 0, 1)
shader_parameter/multiplier = 0.04
shader_parameter/softness = 1.195

[node name="Node3D" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_bk51v")

[node name="RigidBody3D" type="RigidBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3.97715, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="RigidBody3D"]
shape = SubResource("SphereShape3D_hca7e")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.703482, 0.710714, 0, -0.710714, 0.703482, -2.75291, 14.5199, 9.15188)
light_energy = 1.676

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0308323, -0.188156, 0.0134048)
navigation_mesh = SubResource("NavigationMesh_tma6c")

[node name="GridMap2" type="GridMap" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.526109, 3.27338, 0)
mesh_library = ExtResource("1_b5osk")
data = {
"cells": PackedInt32Array(-65543, 65534, 1441792, -65543, 65535, 1441792, -65543, 0, 1441792, -65543, 1, 1441792, -65543, 2, 1441792, -65542, 65534, 1441792, -65542, 65535, 1441792, -65542, 0, 1441792, -65542, 1, 1441792, -65542, 2, 1441792)
}
metadata/_editor_floor_ = Vector3(0, -2, 0)

[node name="lvl1" parent="NavigationRegion3D" instance=ExtResource("7_nix1k")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -20.2798, -0.732836, 0)

[node name="CanvasLayer" type="CanvasLayer" parent="."]
follow_viewport_enabled = true

[node name="ColorRect" type="ColorRect" parent="CanvasLayer"]
material = SubResource("ShaderMaterial_oyx8v")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="PickableObject" parent="." instance=ExtResource("5_6xdsi")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -29.8767, 0.963026, 3.19402)

[node name="Player" parent="." instance=ExtResource("2_5qt3q")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -27.9914, 0.880162, 4.30224)

[node name="CarotAI" parent="." instance=ExtResource("6_yvb4t")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -16.9232, 4.45412, -1.86729)

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(-1, 2.99003e-08, -8.21506e-08, 0, 0.939693, 0.34202, 8.74228e-08, 0.34202, -0.939693, -30.1875, 3.79875, -4.83042)
size = 0.495
script = ExtResource("1_u7fxj")
offset = Vector3(0, 1, -3)
