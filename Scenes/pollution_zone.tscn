[gd_scene load_steps=22 format=3 uid="uid://bdnfxab00ytr2"]

[ext_resource type="Script" path="res://Scenes/collisionStop.gd" id="1_d2wmd"]
[ext_resource type="Texture2D" uid="uid://cld4b6g33865p" path="res://sprites/arrosage/Arrosage-fixe.png" id="3_fw7og"]
[ext_resource type="Texture2D" uid="uid://dt5htcw2en07e" path="res://sprites/arrosage/anim/Arrosage-1.png" id="3_qy5q2"]
[ext_resource type="Texture2D" uid="uid://br4h54c7eadd6" path="res://sprites/arrosage/anim/Arrosage-2.png" id="4_yyuml"]
[ext_resource type="Texture2D" uid="uid://cef6b5hdqlh41" path="res://sprites/arrosage/anim/Arrosage-3.png" id="5_3yoaf"]
[ext_resource type="Texture2D" uid="uid://bsm35nsnqc8o1" path="res://sprites/arrosage/anim/Arrosage-4.png" id="6_3aafl"]
[ext_resource type="Texture2D" uid="uid://dyh80vpbshdhu" path="res://sprites/arrosage/anim/Arrosage-5.png" id="7_x8b8m"]
[ext_resource type="Texture2D" uid="uid://cow3pphw1t55w" path="res://sprites/arrosage/anim/Arrosage-6.png" id="8_12u5t"]
[ext_resource type="Texture2D" uid="uid://7fteayw4axfi" path="res://sprites/arrosage/anim/Arrosage-7.png" id="9_l5i8p"]
[ext_resource type="Texture2D" uid="uid://duq2kri2kjft3" path="res://sprites/arrosage/anim/Arrosage-8.png" id="10_oyj0p"]
[ext_resource type="Texture2D" uid="uid://d30is7wu6fy3t" path="res://sprites/arrosage/Arrosage-casse-2.png" id="11_el63h"]
[ext_resource type="Script" path="res://script/pollution_shape_cast.gd" id="11_mp1xu"]
[ext_resource type="Script" path="res://Scenes/rotation.gd" id="13_exuvx"]
[ext_resource type="PackedScene" uid="uid://c6ml33d2tpcwk" path="res://Scenes/flash_component.tscn" id="14_2wb2v"]

[sub_resource type="FogMaterial" id="FogMaterial_iuknn"]
albedo = Color(0.639216, 0.607843, 0.905882, 1)
height_falloff = 2.80959
edge_fade = 0.237841

[sub_resource type="SpriteFrames" id="SpriteFrames_5bqk0"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("3_qy5q2")
}, {
"duration": 1.0,
"texture": ExtResource("4_yyuml")
}, {
"duration": 1.0,
"texture": ExtResource("5_3yoaf")
}, {
"duration": 1.0,
"texture": ExtResource("6_3aafl")
}, {
"duration": 1.0,
"texture": ExtResource("7_x8b8m")
}, {
"duration": 1.0,
"texture": ExtResource("8_12u5t")
}, {
"duration": 1.0,
"texture": ExtResource("9_l5i8p")
}, {
"duration": 1.0,
"texture": ExtResource("10_oyj0p")
}, {
"duration": 1.0,
"texture": ExtResource("9_l5i8p")
}, {
"duration": 1.0,
"texture": ExtResource("8_12u5t")
}, {
"duration": 1.0,
"texture": ExtResource("7_x8b8m")
}, {
"duration": 1.0,
"texture": ExtResource("6_3aafl")
}, {
"duration": 1.0,
"texture": ExtResource("5_3yoaf")
}],
"loop": true,
"name": &"anim",
"speed": 15.0
}]

[sub_resource type="BoxShape3D" id="BoxShape3D_3rbtv"]

[sub_resource type="BoxShape3D" id="BoxShape3D_m5j50"]
size = Vector3(1.22728, 1, 1.4853)

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_4eeoa"]
angle_min = -720.0
angle_max = -389.8
spread = 16.089
flatness = 0.268
initial_velocity_max = 224.0
gravity = Vector3(0, -1000, 0)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_atff6"]
albedo_color = Color(0.32549, 0, 0.752941, 1)
emission_enabled = true
emission = Color(0.27451, 0, 0.541176, 1)

[sub_resource type="SphereMesh" id="SphereMesh_rjjyg"]
material = SubResource("StandardMaterial3D_atff6")
radius = 0.09
height = 0.05

[node name="PollutionZone" type="Area3D"]
collision_mask = 6
script = ExtResource("1_d2wmd")
broken_texture = ExtResource("11_el63h")

[node name="FogVolume" type="FogVolume" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0663165, 0.904538, 0.073858)
size = Vector3(3.65227, 2, 3.23781)
material = SubResource("FogMaterial_iuknn")

[node name="Sprite3D" type="Sprite3D" parent="."]
transform = Transform3D(0.2, 0, 0, 0, 0.2, 0, 0, 0, 0.2, 0, 0.508483, 0)
texture = ExtResource("3_fw7og")

[node name="AnimatedSprite3D" type="AnimatedSprite3D" parent="."]
transform = Transform3D(0.2, 0, 0, 0, 0.2, 0, 0, 0, 0.2, 0, 0.508483, 0)
sprite_frames = SubResource("SpriteFrames_5bqk0")
animation = &"anim"

[node name="ShapeCast3D" type="ShapeCast3D" parent="."]
transform = Transform3D(3.505, 0, 0, 0, 1.963, 0, 0, 0, 2.912, 0, 0.349585, 0)
shape = SubResource("BoxShape3D_3rbtv")
target_position = Vector3(0, 0, 0)
collision_mask = 6
script = ExtResource("11_mp1xu")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.146004, 0.479632, 0.0453703)
shape = SubResource("BoxShape3D_m5j50")

[node name="GPUParticles3D" type="GPUParticles3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.810508, 0)
amount = 7
lifetime = 0.03
interp_to_end = 0.04
preprocess = 0.39
speed_scale = 0.1
fixed_fps = 60
trail_lifetime = 0.01
process_material = SubResource("ParticleProcessMaterial_4eeoa")
draw_pass_1 = SubResource("SphereMesh_rjjyg")
script = ExtResource("13_exuvx")

[node name="FlashComponent" parent="." instance=ExtResource("14_2wb2v")]

[connection signal="body_entered" from="." to="." method="_on_body_entered"]
